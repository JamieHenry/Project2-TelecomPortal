<main>
    <h1>Manage Devices</h1>

    <article>
        <h2 *ngIf="this.currentDevices.length!==0">My Devices</h2>
        <ng-container *ngFor="let number of currentNumbers">
            <app-current-device
                [number]="number"
                (changeEvent)="resetValues()"></app-current-device>
        </ng-container>

        <h2>Available Devices
            <form id="selectAvailableMake">
                <select name="availableMake">
                    <option value="">Select Make...</option>
                    <option value="Apple">Apple</option>
                    <option value="BlackBerry">BlackBerry</option>
                    <option value="Samsung">Samsung</option>
                </select>
            </form>
            <form id="searchAvailableMake">
                <input type="text" placeholder="Search Available Devices...">
                <input type="submit" value="">
            </form>
            <a [routerLink]="['/manageDevices']">Scroll for more options â–¼</a>
        </h2>
        <div>
        <ng-container *ngFor="let device of allDevices, let i=index">
            <app-available-device
                [device]="device"
                (changeEvent)="resetValues()"></app-available-device>
        </ng-container>
        </div>
        
        <h2>Add Device</h2>

        <form id="addDevice" [formGroup]="addDevice" (ngSubmit)="add(); addDevice.reset();">

            <section>
                <label for="make">Make</label>
                <input name="make" type="text" formControlName="make"  />
                <aside>
                    <span *ngIf="addDevice.controls['make'] != null 
                                 && !addDevice.controls['make'].valid 
                                 && (addDevice.controls['make'].dirty 
                                 || addDevice.controls['make'].touched)">
                        Required
                    </span>
                </aside>
            </section>
            
            <section>
                <label for="model">Model</label>
                <input name="model" type="text" formControlName="model" />
                <aside>
                    <span *ngIf="addDevice.controls['model'] != null 
                                 && !addDevice.controls['model'].valid 
                                 && (addDevice.controls['model'].dirty 
                                 || addDevice.controls['model'].touched)">
                        Required
                    </span>
                </aside>
            </section>
            
            <input type="submit" value="Add New Device"/>
        </form>
    </article>

    <app-sidebar
        [isStale]="isStale"
        (changeEvent)="resetIsStale()"></app-sidebar>
</main>